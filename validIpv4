#include <stdio.h>

int string_length(char *string)
{
    int length = 0;
    while (string[++length] != '\0')
        ;
    return length;
}

int is_valid_character(char character)
{
    return (character >= '0' && character <= '9') || character == '.';
}

int is_valid_ipv4(char *string)
{
    int size = string_length(string);

    for (int i = 0; i < size; i++)
    {
        if (!is_valid_character(string[i]))
            return 0;
    }

    int index = 0, count = 0;
    while (index < size)
    {
        int value = -1, i = index;
        if ((index < size - 1) && (string[index] == '0' && string[index + 1] != '.'))
            return 0;
        while (index < size && string[index] != '.')
        {
            if (value == -1)
                value = 0;
            value = value * 10 + (string[index++] - '0');
        }
        if (value > 255 || value < 0)
            return 0;

        index++;
    }
    return count == 3;
}

void solution()
{
    char input_string[16];
    printf("Enter input_string: ");
    scanf("%s", input_string);
    printf("Input string is ");
    if (is_valid_ipv4(input_string))
    {
        printf("Valid\n");
    }
    else
    {
        printf("Invalid\n");
    }
}

int main()
{
    solution();
    return 0;
}
